# 视频播放问题排查指南

## 🚨 问题描述

您遇到了视频播放错误，系统显示"未找到对应视频"和"视频不可用"。

## 🔍 问题分析

### 根本原因
**知识点标题与视频映射不匹配**：
- KnowledgePointManager中的知识点标题：`"0-10各数的认识和加减法"`
- VideoManager中查找的标题：`"1~10各数的初步认识"`

### 已修复的问题
✅ **映射关系已更新**：现在VideoManager中的映射关系与KnowledgePointManager中的知识点标题完全匹配

## 🛠️ 解决方案

### 1. 重新编译应用
```bash
./gradlew assembleDebug
```

### 2. 测试视频播放
1. 运行应用
2. 进入知识点树状图
3. 点击任意知识点
4. 检查视频是否正常播放

### 3. 使用调试页面
如果问题仍然存在，可以访问调试页面查看详细信息：
- 在MainActivity中添加导航到`"video_debug"`路由
- 查看Assets目录中的视频文件列表
- 检查知识点与视频的映射关系

## 🔧 调试步骤

### 步骤1：检查视频文件
确认视频文件已正确复制到assets目录：
```
app/src/main/assets/teaching_video/
```

### 步骤2：检查映射关系
在VideoManager中确认映射关系：
```kotlin
"0-10各数的认识和加减法" to "一年级（上）01.1~10各数的初步认识.mp4"
```

### 步骤3：检查知识点标题
在KnowledgePointManager中确认知识点标题：
```kotlin
title = "0-10各数的认识和加减法"
```

### 步骤4：测试匹配逻辑
使用调试页面测试知识点与视频的匹配：
- 显示所有可用的视频文件
- 显示所有知识点标题
- 测试映射关系是否正确

## 📋 常见问题及解决方案

### 问题1：视频文件未找到
**症状**：显示"未找到对应视频"
**解决方案**：
1. 确认视频文件已复制到assets目录
2. 检查文件命名是否正确
3. 重新运行复制脚本

### 问题2：知识点映射失败
**症状**：显示"视频不可用"
**解决方案**：
1. 检查VideoManager中的映射关系
2. 确认知识点标题完全匹配
3. 更新映射关系

### 问题3：视频播放失败
**症状**：视频播放器显示错误
**解决方案**：
1. 检查视频文件格式（应为MP4）
2. 确认文件完整性
3. 检查应用权限

## 🎯 预防措施

### 1. 统一命名规范
- 知识点标题：使用KnowledgePointManager中的标准标题
- 视频文件：使用teaching video文件夹中的实际文件名
- 映射关系：确保两者完全匹配

### 2. 定期检查
- 每次添加新知识点时，同步更新VideoManager
- 每次添加新视频时，同步更新映射关系
- 定期测试视频播放功能

### 3. 版本控制
- 保持KnowledgePointManager和VideoManager的同步更新
- 记录每次修改的映射关系
- 建立测试用例验证功能

## 📞 技术支持

如果问题仍然存在，请：

1. **查看调试信息**：使用VideoDebugScreen查看详细信息
2. **检查日志**：查看应用日志中的错误信息
3. **验证文件**：确认视频文件存在且格式正确
4. **测试映射**：手动测试知识点与视频的匹配

## 🎉 预期结果

修复后，您应该能够：
- 正常点击知识点并跳转到详情页面
- 自动播放对应的教学视频
- 看到视频播放器正常工作
- 享受完整的学习体验

---

**🔧 如果问题仍然存在，请使用调试页面获取更多信息，或联系技术支持。**
